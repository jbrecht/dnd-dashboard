<div class="character-card">
  <div class="card-top">
    <div class="avatar-background">
      <img [src]="character.avatarUrl || 'assets/placeholder.png'" alt="{{ character.name }}">
      <div class="avatar-overlay"></div>
    </div>
    
    <button mat-icon-button class="delete-btn" (click)="delete()" aria-label="Delete character">
      <mat-icon>delete</mat-icon>
    </button>

    <div class="card-info">
      <div class="header-content">
        <h2>{{ character.name }}</h2>
        <p class="subtitle">{{ character.race.fullName }}</p>
        
        <div class="classes-list">
          <span *ngFor="let cls of character.classes" class="class-chip">
            {{ cls.definition.name }} <span class="level-badge">{{ cls.level }}</span>
          </span>
        </div>
      </div>

      <div class="hp-container">
        <div class="hp-label">HP</div>
        <div class="hp-values">
          <span class="current">{{ character.hitPoints }}</span>
          <span class="separator">/</span>
          <span class="max">{{ character.hitPoints }}</span>
        </div>
        <mat-progress-bar mode="determinate" value="100" class="hp-bar"></mat-progress-bar>
      </div>
    </div>
  </div>

  <div class="card-bottom">
    <div class="stats-grid">
      <div class="stat-box" *ngFor="let stat of character.stats">
        <div class="stat-name">{{ stat.name }}</div>
        <div class="stat-value">{{ stat.value }}</div>
        <div class="stat-mod" [ngClass]="{'positive': getModifier(stat.value) > 0, 'negative': getModifier(stat.value) < 0}">
          {{ getModifier(stat.value) > 0 ? '+' : '' }}{{ getModifier(stat.value) }}
        </div>
      </div>
    </div>
  </div>
</div>
